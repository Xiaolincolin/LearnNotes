#学习Scrapy框架的要点

##一、re的相关问题

###1.匹配的字符意义
（1）`.`:可以是任意字符

（2）`*`：出现任意次数，包括零次

（3）`+`:至少要出现一次

（4）`{num}`:num代表只能出现的次数

（5）`{num_min：num_max}`:mix和max代表出现的最小和最大的次数

（6）`|`：或的关系，左右两边满足一个就行

（7）`[range]`：只要满足[]里面的任何一个值都可以（常用作电话号码匹配），用法`[12315]`或者`[0-9]`或者`[a-z]`都可以,`[^1]`代表不等于1都可以

（8）`\s`，`\S`：小s代表为一个空格，大S代表只要不是一个空格就行

(9)`\w`,`\W`:等同于`[a-zA-Z0-9_]`,大等同于大S（也是一个字符）

（10）`[\u4E00-\u9F45]`:只要是汉字都可以，代表一个汉字

(11)`\d`:代表的是数字`\d+`至少出现一次数字

(12)`^`,`$`:分别限定必须以什么开头和以什么结尾

(13)`?`:代表非贪婪模式

**例子：**
```

line1 = "xxxx出生于2001年6月1日"
line2 = "xxxx出生于2001/6/1"
line3 = "xxxx出生于2001-6-1"
line4 = "xxxx出生于2001-06-01"
line5 = "xxxx出生于2001-06"
regex_str = ".*?出生于(\d{4}[年/-]\d{1,2}([月/-]\d{1,2}[\u4E00-\u9F45]|[月/-]$|$))"
```



###2.贪婪模式（`.*`）与非贪婪模式（`.*？`）：
**非贪婪模式**是匹配串和母串进行匹配从左边开始匹配，匹配成功则返回结果，**贪婪模式**进行行反向匹配（从右），只要满足就给你，剩下的就算满足也不给你，如下：

```
line = "sadsxoooooooooooooooxxiaolin123"
regex_str = "^.*?(x.*x).*"
match_obj = re.match(regex_str, line)
if match_obj:
    print(match_obj.group(1))
```
第一个`.*?`是非贪婪模式，本得出了想要的`xooooooooox`，但是由于括号中间
的`.*`是贪婪模式，结果从右边匹配出了`xooooooooooxx`，只给了一个`xx`